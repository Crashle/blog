---
title: '一次性搞懂闭包'
date: 2024-08-26
---

## 闭包

### 闭包是什么

闭包是指那些能够访问自由变量的函数。自由变量是指在函数中使用的，但既不是函数参数也不是函数的局部变量的变量。闭包可以捕获并保持其创建时的环境，即使外部函数已经执行完毕，闭包仍然可以访问外部函数的变量。

### 闭包的用途

闭包主要有两个用途：

1. **数据隐藏和封装**：闭包可以用来隐藏变量，使得这些变量不能被外部访问，只能通过闭包提供的接口来访问。这可以用来实现私有变量和私有方法。

2. **函数柯里化**：闭包可以用来实现函数柯里化，即将一个多参数的函数转换成一系列单参数函数。这样可以使函数更灵活，更易于复用。

### 闭包的原理  
闭包的原理是通过作用域链来实现的。当函数被定义时，它会创建一个作用域链，这个作用域链包含了函数定义时的环境。当函数被调用时，会创建一个新的执行上下文，这个执行上下文包含了函数的参数和局部变量。这个执行上下文会添加到作用域链的顶部，形成一个闭包。

### 闭包的示例

```javascript
function outerFunction() {
  var outerVariable = 'I am outside!';

  function innerFunction() {
    console.log(outerVariable);
  }

  return innerFunction;
}